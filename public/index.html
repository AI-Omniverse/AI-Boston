<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI in Boston | Artificial Intelligence, Robotics & Technology</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"
      integrity="sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-LGBJ3SWK04"
    ></script>
	  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-LGBJ3SWK04");
    </script>
    <link rel="stylesheet" href="style.css" />
    <style>
      body > section {
        scroll-margin-top: 70px;
        scroll-padding-bottom: 100px;
      }
      p.text-subtitl_size {
        font-size: 17px;
      }
      :root {
        --brand: #007a33;
        --brand-hover: #007a33;
        --ai: #f1f1f1;
        --text: #000000;
      }
      * {
        box-sizing: border-box;
      }
      .anchorlink.customlinhyt {
        line-height: 2;
      }
      /* Overlay (click-outside to close) */
      #chatOverlay {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.2);
        backdrop-filter: saturate(120%) blur(1px);
        display: none;
        z-index: 998;
      }

      /* Floating Mic */
      #micButton {
        cursor: pointer;
      }
      #micButton:active {
        transform: scale(0.98);
      }
      #micButton.listening {
        animation: pulse 1.5s infinite;
      }
      @keyframes pulse {
        0% {
          box-shadow: 0 0 0 0 rgba(229, 57, 53, 0.7);
        }
        70% {
          box-shadow: 0 0 0 20px rgba(229, 57, 53, 0);
        }
        100% {
          box-shadow: 0 0 0 0 rgba(229, 57, 53, 0);
        }
      }

      /* Chatbox */
      #chatbox {
        left: 100px;
        position: absolute;
        bottom: -25px;
        right: auto;
        width: 640px;
        height: 280px;
        background: #fff;
        border-radius: 14px;
        box-shadow: 0 12px 28px rgba(0, 0, 0, 0.18);
        display: none;
        flex-direction: column;
        overflow: hidden;
        z-index: 999;
      }

      /* Top bar */
      #chatTop {
        padding: 10px;
        border-bottom: 1px solid #eee;
        background: #007a33;
        color: #ffffff;
        display: flex;
        align-items: center;
      }
      #closeChat {
        margin-left: auto;
        background: transparent;
        border: none;
        font-size: 18px;
        line-height: 1;
        cursor: pointer;
        color: #ffffff;
      }
      #closeChat:hover {
        color: #000;
      }

      #chatMessages {
        flex: 1;
        padding: 12px;
        overflow-y: auto;
        font-size: 14px;
        background: #fff;
      }
      .message {
        margin: 6px 0;
        padding: 8px 10px;
        border-radius: 10px;
        max-width: 85%;
        word-wrap: break-word;
        white-space: pre-wrap;
      }
      .user {
        background: var(--brand);
        color: #fff;
        align-self: flex-end;
      }
      .ai {
        background: var(--ai);
        color: #000;
        align-self: flex-start;
      }

      #chatInputArea {
        display: flex;
        border-top: 1px solid #eee;
        background: #fff;
      }
      #chatInput {
        flex: 1;
        padding: 12px;
        border: none;
        outline: none;
        font-size: 14px;
      }
      #sendButton {
        background: var(--brand);
        border: none;
        color: #fff;
        padding: 10px 14px;
        cursor: pointer;
      }
      #sendButton:hover {
        background: var(--brand-hover);
      }

      /* Articles rendering */
      .article-list {
        margin: 6px 0 8px;
        padding-left: 0;
        list-style: none;
      }
      .article-item {
        margin: 6px 0;
      }
      .article-item a {
        text-decoration: none;
        font-weight: 600;
        color: #0b69ff;
      }
      .article-item a:hover {
        text-decoration: underline;
      }
      .article-meta {
        display: block;
        font-size: 12px;
        color: #666;
        margin-top: 2px;
      }
      .as-of {
        font-size: 12px;
        color: #555;
        margin-top: 8px;
      }
      /* Thinking indicator */
      .typing {
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }
      .typing .dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: #555;
        animation: bounce 1s infinite ease-in-out;
      }
      .typing .dot:nth-child(2) {
        animation-delay: 0.15s;
      }
      .typing .dot:nth-child(3) {
        animation-delay: 0.3s;
      }
      @keyframes bounce {
        0%,
        80%,
        100% {
          transform: scale(0.6);
          opacity: 0.6;
        }
        40% {
          transform: scale(1);
          opacity: 1;
        }
      }

      /* anchor: ensure mic button positioned ancestor */
      #micButton {
        position: relative;
        z-index: 30;
      }

      /* positioning: sits to the right of the mic */
      .mic-hint {
        position: absolute;
        top: -58%;
        left: calc(100% + -5px);
        transform: translateY(-50%);
        z-index: 2;
        pointer-events: auto;
      }

      /* the oval bubble */
      .mic-hint__content {
        position: relative;
        display: inline-flex;
        align-items: center;
        gap: 0;
        padding: 5px 10px;
        border-radius: 999px;
        background: var(--brand);
        color: #ffffff;
        font-size: 13px;
        font-weight: 600;
        line-height: 1.05;
        text-align: center;
        justify-content: center;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        height: 55px;
      }

      /* text: two-line layout with bold second line */
      .mic-hint__text {
        display: inline-block;
        color: #fff;
        line-height: 1.25;
      }
      .mic-hint__text strong {
        display: block;
        font-weight: 800;
      }

      /* white circular close button, perfectly vertically centered */
      .mic-hint__close {
        appearance: none;
        -webkit-appearance: none;
        border: none;
        color: #fff;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 16px;
        line-height: 1;
        cursor: pointer;
        margin-left: 0;
        flex-shrink: 0;
        transition: background 0.12s ease, transform 0.12s ease;
        position: absolute;
        top: 0;
        right: 0;
        display: none;
      }
      .mic-hint__close:hover {
        background: rgba(255, 255, 255, 0.22);
        transform: translateY(-1px);
      }
      .mic-hint__close:focus {
        outline: 2px solid rgba(255, 255, 255, 0.18);
      }

      /* === curved pointy tail (bottom-left) ===
   technique: two layered pseudo-elements to create a smooth pointed tail
*/
      .mic-hint__content::before,
      .mic-hint__content::after {
        content: "";
        position: absolute;
        left: 12px;
        bottom: -9px;
        width: 66px;
        height: 40px;
        transform-origin: 0 100%;
        z-index: -1;
        pointer-events: none;
      }

      /* main colored tail shape */
      .mic-hint__content::before {
        background: #007a33;
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 60px;
        border-top-left-radius: 30px;
        border-top-right-radius: 30px;
        transform: rotate(-15deg) skewX(-22deg);
        box-shadow: 0 8px 14px rgba(11, 33, 71, 0.06);
      }

      /* subtle underside highlight to smooth the join */
      .mic-hint__content::after {
        left: 13px;
        bottom: -14px;
        width: 34px;
        height: 20px;
        border-bottom-left-radius: 4px;
        border-bottom-right-radius: 40px;
        transform: rotate(-16deg) skewX(-6deg);
        z-index: -2;
      }

      /* hidden state used by your JS */
      .mic-hint--hidden {
        opacity: 0;
        transform: translateY(-6px) scale(0.98);
        pointer-events: none;
        transition: opacity 0.18s, transform 0.18s;
      }

      /* responsive tweaks to avoid overflow on small screens */
      @media (max-width: 520px) {
        .mic-hint {
          left: calc(100% + 8px);
        }
        .mic-hint__content {
          min-width: 85px;
          padding: 5px 7px;
          font-size: 12px;
          height: 49px;
        }
        .mic-hint__content::before {
          left: 8px;
          bottom: -7px;
          width: 36px;
          height: 26px;
          transform: rotate(-14deg) skewX(-25deg);
          border-bottom-left-radius: 0;
          border-bottom-right-radius: 0;
          border-top-left-radius: 5px;
          border-top-right-radius: 30px;
        }
        .mic-hint__content::after {
          left: 16px;
          bottom: -12px;
          width: 26px;
          height: 16px;
          transform: rotate(-14deg) skewX(-5deg);
        }
      }

      .mySwiperTiles .swiper-slide {
        display: flex;
        align-items: stretch;
      }
      .mySwiperTiles .tile-wrapper {
        display: flex;
        flex-direction: column;
        width: 100%;
        justify-content: center;
      }
		.text-subtitl_size img.large--hide {
    margin: 20px 0;
    width: 100vw;
    position: relative;
    margin-left: -50vw;
    left: 50%;
    max-width: 100vw;
}
img.waveimg {
    transform: scale(3);
    width: 100%;
    margin-bottom: 90px;
    margin-top: 40px;
}
		.leaflet-popup-content p {
    margin: 0 0 1.3em 0;
}
/* =====================================================
   NEWS PUZZLE GRID ‚Äì 1 + (2x2) FINAL
===================================================== */
.galaverse-news-grid {
  display: grid;
  /* Create 4 columns: two for the left (50%), two for the right */
  grid-template-columns: 1fr 1fr 1fr 1fr;
  /* Create 2 rows */
  grid-template-rows: 1fr 1fr;
  gap: 16px;
  height: 600px; /* Adjust height as needed */
}


/* =========================
   LEFT HERO (FULL HEIGHT)
========================= */
.galaverse-card.slot-a {
  grid-column: 1;
  grid-row: 1 / span 2; /* full height */
}

/* =========================
   RIGHT SIDE ‚Äì 2x2 GRID
========================= */
.slot-b { grid-column: 2; grid-row: 1; }
.slot-c { grid-column: 2; grid-row: 2; }

.slot-d { display: none; }
.slot-e { display: none; }

/* The first item (Slot A) takes up the entire left half */
.galaverse-news-grid .galaverse-card:first-child {
  grid-column: 1 / 3; /* Spans from col 1 to 3 (first 50%) */
  grid-row: 1 / 3;    /* Spans both rows */
}

/* The remaining items will automatically flow into the 2x2 grid on the right */
/* but we can be explicit to ensure they stay in the last two columns */
.galaverse-news-grid .galaverse-card:not(:first-child) {
  grid-column: span 1;
  grid-row: span 1;
}
		
/* =========================
   BASE CARD
========================= */
.galaverse-card {
  position: relative;
  overflow: hidden;
  background: #ffffff;
  color: #000;
  text-decoration: none;
  padding: 18px;
  display: flex;
  align-items: flex-start;
  transition: transform .25s ease, box-shadow .25s ease;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 0px 20px #0000001a, 0 0 #0000001a;
}

.galaverse-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 14px 30px rgba(0,0,0,.15);
}

/* =========================
   IMAGE (ONLY IF EXISTS)
========================= */
.galaverse-card.has-image img {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;display: none;
}

.galaverse-card.has-image::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to bottom,
    rgba(0,0,0,.6),
    rgba(0,0,0,.25)
  );
}
/* Safety: no overlay if no image */
.galaverse-card.has-image::after, .galaverse-card:not(.has-image)::after {
  display: none;
}
/* =========================
   CONTENT
========================= */
.galaverse-content {
  position: relative;
  z-index: 2;
  max-width: 92%;
}

.galaverse-content h3 {
  font-size: 19px;  /* +3px */
  font-weight: 700;
  line-height: 1.25;
  margin: 0;
}

/* Hero title bigger */
.slot-a h3 {
  font-size: 26px;
}

/* Excerpt */
.news-excerpt {
  margin-top: 8px;
  font-size: 14px;
  line-height: 1.4;
  opacity: .9;
}

/* Meta */
.galaverse-meta {
  margin-top: 10px;
  font-size: 12px;
  opacity: .7;
}

/* =========================
   MOBILE
========================= */
@media (max-width: 900px) {
  .galaverse-news-grid {
    grid-template-columns: 1fr;
    grid-template-rows: auto;
  }
  .galaverse-news-grid .galaverse-card:first-child {
    grid-column: auto;
    grid-row: auto;
  }
  .galaverse-card {
    height: 260px;
  }
}

/* =====================================================
   EVENTS SECTION ‚Äì CLEAN & FINAL
===================================================== */

/* Grid layout */
.ai-events-grid {
  display: grid;
  grid-template-columns: 1.3fr 1fr;
  gap: 28px;
  align-items: stretch;
  margin-top: 32px;
}

/* =====================================================
   FEATURED EVENT (LEFT)
===================================================== */

.ai-event-featured-card {
  position: relative;
  min-height: 420px;
  border-radius: 18px;
  overflow: hidden;
  background: #000;
  color: #fff;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  padding: 32px;
}

/* Background image */
.ai-event-featured-card img {
  position: absolute;
  inset: 0; display:none;
  width: 100%;
  height: 100%;
  object-fit: cover;
  opacity: 0.65;
}

/* Dark overlay for readability */
.ai-event-featured-card::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to top,
    rgba(0,0,0,.85),
    rgba(0,0,0,.25)
  );
}

/* Content */
.ai-event-featured-content {
  position: relative;
  z-index: 2;
  max-width: 90%;
}

.ai-event-featured-date {
  font-size: 14px;
  font-weight: 600;
  opacity: .85;
  margin-bottom: 8px;
}

.ai-event-featured-title {
  font-size: 26px;
  font-weight: 800;
  line-height: 1.2;
  margin-bottom: 10px;
}

.ai-event-featured-venue {
  font-size: 14px;
  opacity: .85;
  margin-bottom: 14px;
}

/* Featured links */
.ai-event-featured-links {
  display: flex;
  gap: 16px;
  font-size: 14px;
  font-weight: 600;
}

.ai-event-featured-links a {
  color: #fff;
  text-decoration: none;
  opacity: .9;
}

.ai-event-featured-links a:hover {
  opacity: 1;
  text-decoration: underline;
}

/* =====================================================
   RIGHT SIDE ‚Äì CONTINUOUS VERTICAL LOOP
===================================================== */

.ai-event-list-viewport {
  height: 420px;
  overflow: hidden;
  position: relative;
}

/* The moving column */
#ai-event-list {
  display: flex;
  flex-direction: column;
  gap: 14px;
  will-change: transform;
}

/* Individual list item */
.ai-event-list-item {
  background: #ffffff;
  border: 1px solid #ededed;
  border-radius: 14px;
  padding: 14px 16px;
  text-align: left;
  transition: box-shadow .25s ease, transform .25s ease;
}

.ai-event-list-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 22px rgba(0,0,0,.08);
}

/* Title */
.ai-event-list-item strong {
  display: block;
  font-size: 15px;
  font-weight: 700;
  margin-bottom: 6px;
}

/* Meta row */
.ai-event-list-meta {
  font-size: 12px;
  opacity: .75;
  margin-bottom: 8px;
}

/* Links */
.ai-event-links {
  display: flex;
  gap: 14px;
  font-size: 12px;
  font-weight: 600;
}

.ai-event-links a {
  text-decoration: none;
  color: #000;
  opacity: .8;
}

.ai-event-links a:hover {
  opacity: 1;
  text-decoration: underline;
}

/* =====================================================
   BADGES
===================================================== */

.ai-event-date-badge {
  display: inline-block;
  background: var(--brand);
  color: #fff;
  font-size: 11px;
  padding: 4px 8px;
  border-radius: 6px;
  margin-bottom: 6px;
}

.ai-event-pill {
  display: inline-block;
  font-size: 11px;
  padding: 4px 8px;
  border-radius: 999px;
  background: #eef6f9;
  margin-bottom: 6px;
}

.ai-event-list-viewport::before,
	.ai-event-list-viewport::after {
	  content: "";
	  position: absolute;
	  left: 0;
	  right: 0;
	  height: 40px;
	  pointer-events: none;
	  z-index: 2;
	}
	
	.ai-event-list-viewport::before {
	  top: 0;
	  background: linear-gradient(to bottom, #fff, transparent);
	}
	
	.ai-event-list-viewport::after {
	  bottom: 0;
	  background: linear-gradient(to top, #fff, transparent);
	}
		
/* =====================================================
   MOBILE
===================================================== */

@media (max-width: 768px) {
  .ai-events-grid {
    grid-template-columns: 1fr;
  }

  .ai-event-list-viewport {
    height: auto;
  }

  #ai-event-list {
    transform: none !important;
  }

  .ai-event-featured-card {
    min-height: 360px;
  }
}
	
      @media screen and (min-width: 769px) {
        .large--hide {
          display: none;
        }
      }
      @media screen and (max-width: 768px) {
		  .mobilecityimage_text.text-subtitl_size {
    font-size: 19px;
}
		  .robosec {
    background-image: none;
		  }
        #chatbox {
          left: auto;
          bottom: 100%;
          width: 480px;
          height: 400px;
          margin-bottom: 20px;
        }
        .btn_withlovedby {
          align-items: center;
        }
        .small--hide {
          display: none;
        }
        p.text-subtitl_size {
          font-size: 17px;
        }
        #omniverseconnect p,
        #omniversecompanies p,
        #omniversemap p,
        #omniversemap p a {
          line-height: 1.625;
          font-size: 17px;
        }
        #omniverseconnect > div.backdrop-blur-sm {
          padding: 1.7rem;
        }
        #omniverseconnect > div.backdrop-blur-sm form .relative:nth-child(2) {
          margin-top: 15px;
        }
      }
      @media screen and (max-width: 600px) {
        #chatbox {
          width: 310px;
        }
      }
    </style>
  </head>
  <body class="relative">
    <!-- Overlay with Popup -->
    <div class="overlay" id="popupOverlay" style="display: none">
      <div
        class="popup max-w-[23rem] md:max-w-3xl mx-auto shadow-2xl rounded-3xl p-10 md:p-12 relative z-10 backdrop-blur-sm border"
      >
        <span class="close-btn" id="closePopup">√ó</span>
        <div>
          <h1>Galabrief</h1>
          <form id="newsletter-form" class="space-y-6">
            <div class="relative">
              <label
                for="email"
                class="block text-sm font-medium text-white mb-1"
                >Email Address</label
              >
              <input
                type="email"
                id="email"
                name="email"
                placeholder="you@example.com"
                required=""
                class="w-full px-5 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
              />
            </div>

            <button
              type="submit"
              class="w-full bg-black font-semibold py-3 rounded-xl transition duration-300 shadow-md hover:shadow-lg"
            >
              ü§ñ Subscribe Now
            </button>
          </form>
        </div>
      </div>
    </div>
    <header class="site-header header">
      <div class="header__logo">
        <a href="index.html" class="logo">
          <img src="Boston-Galaverse-AI.svg" />
        </a>
      </div>
        <div class="header__navbar">
          <nav class="header-links">
            <ul class="header-links__list">
              <li class="header-links__item">
                <a
                  href="#omniversemap"
                  title="News"
                  class="header-links__link anchorlink"
                  >Galaverse</a
                >
              </li>
              <li class="header-links__item">
                <a
                  href="#omniversecompanies"
                  title="Blog"
                  class="header-links__link anchorlink"
                  >Visionaries</a
                >
              </li>
              <li class="header-links__item">
                <a
                  href="#omniverseconnect"
                  title="Events"
                  class="header-links__link anchorlink"
                  >Connect</a
                >
              </li>
              <li class="header-links__item">
                <a
                  target="_blank"
                  href="https://news.google.com/search?q=boston+artificial+intelligence"
                  title="Companies"
                  class="header-links__link_externallink"
                  >News</a
                >
              </li>
            </ul>
            <!-- tag content - may be ignored! -->
          </nav>
        </div>
      <div class="header__components">
        <div class="header__letter-button">
          <a
            id="OpenNewsLetterr"
            data-hash="newsLetter"
            class="letter-button usw"
          >
            <span class="letter-button__desktop-text">Galabrief</span>
            <span class="letter-button__mobile-text">
              <svg
                width="14"
                height="10"
                viewBox="0 0 16 12"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M0.5 0.658593H5.5333L8.1751 6.08002L5.5333 11.3414H0.5L3.42632 6.08003L0.5 0.658593Z"
                ></path>
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M7.5 0.658593H12.5333L15.1751 6.08002L12.5333 11.3414H7.5L10.4263 6.08003L7.5 0.658593Z"
                ></path>
              </svg>
              GALABRIEF Newsletter
            </span>
          </a>
        </div>
        <div class="header__control">
          <button
            id="menuToggle"
            type="button"
            class="menu-toggle is-desktop-visible"
          >
            <span class="menu-toggle__bar-wrapper">
              <span class="menu-toggle__bar"></span>
              <span class="menu-toggle__bar"></span>
              <span class="menu-toggle__bar"></span>
            </span>
            <p class="ghost">Open menu</p>
          </button>
        </div>
      </div>
    </header>

    <!-- Mobile Drawer Menu -->
    <div class="navbar">
      <div class="navbar__inner">
        <div class="navbar__links">
          <nav class="header-links">
            <ul class="header-links__list">
              <li class="header-links__item">
                <a
                  href="#omniversemap"
                  title="News"
                  class="header-links__link anchorlink drawermenu__link"
                >
                  Galaverse
                </a>
              </li>
              <li class="header-links__item">
                <a
                  href="#omniversecompanies"
                  title="Companies"
                  class="header-links__link anchorlink drawermenu__link"
                >
                  Visionaries
                </a>
              </li>
              <li class="header-links__item">
                <a
                  href="#omniverseconnect"
                  title="Connect"
                  class="header-links__link anchorlink drawermenu__link"
                >
                  Connect
                </a>
              </li>
              <li class="header-links__item">
                <a
                  class="header-links__link_externallink drawermenu__link"
                  href="https://news.google.com/search?q=boston+ai"
                  title="News"
                  target="_blank"
                  rel="noopener noreferrer"
                  >News</a
                >
              </li>
            </ul>
            <!-- tag content - may be ignored! -->
          </nav>
        </div>
      </div>
    </div>

    <!-- Introduction Section -->
    <section id="intro_section" class="px-10 pt-12 mt-20 text-center">
      <h2 class="text-gray-900 text-[40px] tracking-wide small--hide">
        Boston's Artificial Intelligence is
      </h2>
      <h2 class="text-gray-900 text-[28px] tracking-wide large--hide">
        Boston's AI is
      </h2>
      <h1
        id="changing-word-robot"
        style="font-family: poppins, sans-serif"
        class="pb-4 mb-4 text-extrabold sm:text-normal text-[50px] h-[75px] sm:h-[150px] sm:text-[100px] text-black"
      ></h1>
    </section>

    <!-- Main Content -->
    <section
      id="robosec"
      class="flex flex-wrap justify-center items-stretch robosec px-10 gap-6"
    >
      <!-- Left: Chat + Mic -->
      <div
        class="flex-1 min-w-[280px] flex flex-col justify-center md:order-1 order-2"
      >
        <div class="space-y-3">
          <div
            class="chat-left max-w-xs bg-white p-3 rounded-3xl border border-gray-200 text-base text-black"
          >
            Dia duit robot
          </div>
          <div
            class="chat-right max-w-xs bg-white p-3 rounded-3xl border border-gray-200 text-base text-black self-end ml-auto"
          >
            Hi human ü§ñüçÄ
          </div>
          <div
            class="chat-left max-w-xs bg-white p-3 rounded-3xl border border-gray-200 text-base text-black"
          >
            Cad a tharla ag c√≥isir tae Boston?
          </div>
          <div
            class="shadow chat-right max-w-xs bg-white p-3 rounded-3xl border border-gray-200 text-base text-black self-end ml-auto"
          >
            At the Boston Tea Party in 1773, American colonists protested British taxation by boarding ships in Boston Harbor and dumping an entire shipment of tea into the water.
          </div>
          <div
            class="chat-left max-w-xs bg-white p-3 rounded-3xl border border-gray-200 text-base opacity-40"
          >
            Go raibh maith agat
          </div>
          <div
            class="chat-right max-w-xs bg-white p-3 rounded-3xl border border-gray-200 text-base self-end ml-auto opacity-20"
          >
            You are welcome (t√° f√°ilte romhat) üòÑüçµ
          </div>
        </div>
        <div
          class="mt-[-80px] flex justify-center relative mb-8 w-14 h-14 mx-auto"
        >
          <div class="absolute inset-0">
            <span class="ripple"></span>
            <span class="ripple"></span>
            <span class="ripple"></span>
          </div>
          <div
            class="relative w-14 h-14 rounded-full bg-gradient-to-tr from-gray-800 to-black flex items-center justify-center shadow-lg"
          >
            <!-- Overlay -->
            <div id="chatOverlay"></div>

            <!-- Chatbox -->
            <div
              id="chatbox"
              role="dialog"
              aria-modal="true"
              aria-labelledby="chatTitle"
            >
              <div id="chatTop">
                <span style="font-weight: 600">Boston AI Assistant</span>
                <button id="closeChat" aria-label="Close">‚úï</button>
              </div>

              <div id="chatMessages" aria-live="polite"></div>

              <div id="chatInputArea">
                <input
                  id="chatInput"
                  type="text"
                  placeholder="Type a message..."
                  aria-label="Message"
                />
                <button id="sendButton">Send</button>
              </div>
            </div>

            <!-- Floating Mic Button -->
            <button id="micButton" title="Speak" aria-label="Speak">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="white"
                viewBox="0 0 24 24"
                class="w-5 h-5 relative z-10"
              >
                <path
                  d="M12 1a3 3 0 0 1 3 3v8a3 3 0 0 1-6 0V4a3 3 0 0 1 3-3zm-1 18.93A7.996 7.996 0 0 1 4.07 13H6a6 6 0 0 0 12 0h1.93A7.996 7.996 0 0 1 13 19.93V23h-2v-3.07z"
                ></path>
              </svg>
            </button>
            <!-- Mic hint: place this immediately after the mic button markup -->
            <div
              id="micHint"
              class="mic-hint"
              role="status"
              aria-live="polite"
              aria-hidden="false"
            >
              <div class="mic-hint__content">
                <span class="mic-hint__text">Ask me<br />something!</span>
                <button
                  id="micHintClose"
                  class="mic-hint__close"
                  aria-label="Dismiss hint"
                >
                  &times;
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Center: Robot -->
      <div
        class="flex-1 min-w-[280px] sm:pl-5 sm:pr-5 text-center flex items-center justify-center md:order-2 order-1"
      >
        <img src="r1.png" alt="Robot" class="mx-auto max-w-[400px] w-full" />
      </div>

      <!-- Right: Text + CTA -->
      <div class="flex-1 min-w-[280px] flex flex-col justify-center pt-2 sm:pt-6 pl-0 md:order-3 order-3">
        <img class="large--hide waveimg" src="soundwavee.png" alt="">
        <div class="sm:mb-4">
          <p class="mobilecityimage_text text-subtitl_size text-black leading-relaxed mb-6 mt-2 sm:mt-12 text-[19px]" style="font-family: poppins, sans-serif">
            Boston sits near the top of the global AI map by leaning hard on its universities, hospitals, and life science institutions, where lab automation, surgical robotics, and clinical AI help turn research into real life treatments for patients.
		  <img src="boston-city.png" alt="Robot" class="large--hide mx-auto w-full">Beantown feels like it's half beautiful cobble-stone streets and half college campus with a wicked nerd energy and drive to build the next unicorn. Cambridge trailblazes AI with MIT and Harvard labs, Innovation District hosts data cloud startups, and Allston houses an indie maker scene that together pave an AI and robotics future that is clinical, civic, and a little stubbornly New England.									
          </p>
          <div class="flex gap-4 mb-6 btn_withlovedby">
            <a
              href="#omniverseconnect"
              class="px-6 py-2 rounded-full bg-black text-white font-bold anchorlink customlinhyt"
              >Be seen</a
            >
            <div class="mb-ww4 text-left">
              <div class="flex items-center gap-2">
                <div class="flex -space-x-3">
                  <img
                    src="https://randomuser.me/api/portraits/men/32.jpg"
                    class="w-12 h-12 rounded-full border-[3px] border-white shadow-lg"
                  />
                  <img
                    src="https://randomuser.me/api/portraits/women/44.jpg"
                    class="w-12 h-12 rounded-full border-[3px] border-white shadow-lg"
                  />
                  <img
                    src="https://randomuser.me/api/portraits/men/65.jpg"
                    class="w-12 h-12 rounded-full border-[3px] border-white shadow-lg"
                  />
                </div>
                <div>
                  <p class="text-sm text-gray-500 mb-1">Loved by more than</p>
                  <p class="text-xl font-semibold text-gray-800">10k+ users</p>
                </div>
              </div>
            </div>
            <!----<a href="criteria.html" class="px-6 py-2 rounded-full border border-transparent text-black underline flex items-center gap-2">
           How do we connect?
              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-black fill-black" viewBox="0 0 24 24">
                <path d="M8 5v14l11-7z"></path>
              </svg>
            </a>---->
          </div>
        </div>
      </div>
    </section>

    <!-- Fullwidth Map -->
    <section
      id="omniversemap"
      class="w-full bg-white py-20 pb-8 px-4 sm:px-6 lg:px-12"
    >
      <div class="bg-white relative z-10 w-full mb-4 mob-mt-0 text-center">
        <h1
          style="font-family: poppins, sans-serif"
          class="text-3xl md:text-5xl font-bold mb-4 leading-tight text-[#000000]"
        >
          Galaverse
        </h1>
        <p
          class="text-subtitl_size pl-5 pr-5 text-black max-w-5xl mx-auto"
          style="font-family: poppins, sans-serif"
        >
          From Boston to Shanghai. From Denver to Dublin. Click a connected city to access their domain.							
        </p>
        <p class="text-subtitl_size" style="font-family: poppins, sans-serif">
          <a
            href="www.galaverse-ai.org"
            class="text-subtitl_size text-black mt-4"
            style="
              font-family: poppins, sans-serif;
              margin-top: 10px;
              display: inline-block;
            "
            >www.galaverse-ai.org</a
          >
        </p>
      </div>
      <div class="h-[400px] sm:h-[500px]" id="map"></div>
    </section>

    <!-- Hero Section -->
    <section
      id="omniversecompanies"
      class="bg-white relative z-10 w-full mob-mt-0 pb-4 pt-20 text-center"
    >
      <div class="container">
        <h1
          style="font-family: poppins, sans-serif"
          class="text-3xl md:text-5xl font-bold mb-4 leading-tight text-[#000000]"
        >
          Boston Visionaries
        </h1>
        <p
          class="pl-5 pr-5 text-black max-w-5xl mx-auto text-subtitl_size"
          style="font-family: poppins, sans-serif"
        >
          Boston‚Äôs AI and robotics scene encompasses both the region‚Äôs hardest challenges and its most impressive strengths, from Mass General using diagnostic imaging models and <b>surgical robotics</b>, to crushing winters of snow and ice where <b>storm prediction</b> and fleet routing tools guide plow deployment, to its world-leading healthcare networks where artificial intelligence powers <b>drug discovery</b>, genomics, and lab automation, to the thriving sports culture at Fenway Park and the Garden where computer vision, <b>automated drone cameras</b>, and advanced analytics make broadcasts and in-stadium visual experiences more immersive, and finally to the renowned universities that pioneer advances in <b>academic artificial intelligence</b>.
        </p>
        <!-- Swiper Container -->
        <div class="swiper mySwiperTiles">
          <div class="swiper-wrapper">
            <!-- Slides -->
            <div class="swiper-slide">
              <div class="tile-wrapper">
                <div class="tile-title">Piaggio Fast Forward</div>
                <p
                  class="pl-5 pr-5 text-base text-black max-w-3xl mx-auto"
                  style="font-family: poppins, sans-serif"
                >
                  Piaggio Fast Forward builds cargo-carrying robots that blend innovative technology with sustainable mobility to help people move items from one place to another. Our flagship robot, Gita, uses a first-of-its-kind, hands-free following technology to accompany and assist people through everyday errands.
                  <br /><br />
                  <a target="_blank" href="https://piaggiofastforward.com/"
                    >https://piaggiofastforward.com/</a
                  >
                </p>
              </div>
            </div>
            <div class="swiper-slide">
              <div class="tile-wrapper">
                <div class="tile-title">Neurala</div>
                <p
                  class="pl-5 pr-5 text-base text-black max-w-3xl mx-auto"
                  style="font-family: poppins, sans-serif"
                >
                  Neurala develops vision AI software that makes visual inspection of products faster, smarter, and more accessible for manufacturers. Neurala‚Äôs VIA (Visual Inspection Automation) platform improves the quality control process by detecting defects, reducing machine downtime, and scaling production and is patented by technology from NASA, DARPA, and Air Force.
                  <br /><br />
                  <a target="_blank" href="https://www.neurala.com/"
                    >https://www.neurala.com/</a
                  >
                </p>
              </div>
            </div>
            <div class="swiper-slide">
              <div class="tile-wrapper">
                <div class="tile-title">Aura Intelligent Systems</div>
                <p
                  class="pl-5 pr-5 text-base text-black max-w-3xl mx-auto"
                  style="font-family: poppins, sans-serif"
                >
                  Aura Intelligent Systems makes AI imaging radar that provides high-resolution spatial awareness solutions for autonomous mobility and intelligent edge applications. Aura enables 5D situational awareness that is resilient to interference, jamming, and urban complexity with its patented QuadRay‚Ñ¢ technology, that enables safer drones, vehicles, and mobility networks.
                  <br /><br />
                  <a target="_blank" href="https://www.auraisystems.com/"
                    >https://www.auraisystems.com/</a
                  >
                </p>
              </div>
            </div>
            <div class="swiper-slide">
              <div class="tile-wrapper">
                <div class="tile-title">MassRobotics</div>
                <p
                  class="pl-5 pr-5 text-base text-black max-w-3xl mx-auto"
                  style="font-family: poppins, sans-serif"
                >
                  MassRobotics is the world‚Äôs largest independent robotics hub, with a goal to accelerate innovation, commercialization, and adoption in robotics and physical AI. It's headquartered in Boston but has a global reach, by providing startups and entrepreneurs with custom workspaces, prototyping facilities, resources, and connections to help them scale, network, and hopefully succeed.
                  <br /><br />
                  <a target="_blank" href="http://www.massrobotics.org/">http://www.massrobotics.org/</a>
                </p>
              </div>
            </div>
            <div class="swiper-slide">
              <div class="tile-wrapper">
                <div class="tile-title">Nextera Robotics</div>
                <p
                  class="pl-5 pr-5 text-base text-black max-w-3xl mx-auto"
                  style="font-family: poppins, sans-serif"
                >
                  Nextera Robotics builds its patented AI-powered Didge, which is disrupting construction management with on the ground data that improves safety, tracks progress, enhances quality control, and prevents costly mistakes. The Didge platform provides automated reports, alerts, and dashboards to teams for a shared source of truth to enable proactive decisions.
                  <br /><br />
                  <a target="_blank" href="https://nexterarobotics.com/"
                    >https://nexterarobotics.com/</a
                  >
                </p>
              </div>
            </div>
            <div class="swiper-slide">
              <div class="tile-wrapper">
                <div class="tile-title">Krevera</div>
                <p
                  class="pl-5 pr-5 text-base text-black max-w-3xl mx-auto"
                  style="font-family: poppins, sans-serif"
                >
                  Krevera provides AI-vision agents that continuously monitor production, automatically adjust processes, and significantly reduce defects. Its machine learning inspection processes give you full quality control of your plastic injection molding production facilities.
                  <br /><br />
                  <a target="_blank" href="https://krevera.com/">https://krevera.com/</a>
                </p>
              </div>
            </div>
            <div class="swiper-slide">
              <div class="tile-wrapper">
                <div class="tile-title">Volta Labs. Inc.</div>
                <p
                  class="pl-5 pr-5 text-base text-black max-w-3xl mx-auto"
                  style="font-family: poppins, sans-serif"
                >
                  Volta Labs develops a full-stack digital fluidics platform including hardware, software, chemistry, and biology, that maximizes genomics sample prep performance, scalability, and consistency. Volta helps scientists focus on discovery, and turns complex biology into a simple, efficient, push-button experience.
                  <br /><br />
                  <a target="_blank" href="https://www.voltalabs.com/">https://www.voltalabs.com/</a>
                </p>
              </div>
            </div>
            <div class="swiper-slide">
              <div class="tile-wrapper">
                <div class="tile-title">Neo Cybernetica</div>
                <p
                  class="pl-5 pr-5 text-base text-black max-w-3xl mx-auto"
                  style="font-family: poppins, sans-serif"
                >
                  Neo Cybernetica is advancing cybernetics technology, defined as the science of communications and automatic control systems in both machines and living things, using breakthroughs in AI, robotics, neuroscience, and cognitive sciences.
                  <br /><br />
                  <a target="_blank" href="https://www.neocybernetica.com/">https://www.neocybernetica.com/</a>
                </p>
              </div>
            </div>
            <div class="swiper-slide">
              <div class="tile-wrapper">
                <div class="tile-title">Perceptive (formerly Cyberdontics)</div>
                <p
                  class="pl-5 pr-5 text-base text-black max-w-3xl mx-auto"
                  style="font-family: poppins, sans-serif"
                >
                  Perceptive is advancing the future of dentistry with AI-powered imaging and robotic systems. Our handheld intraoral scanner combines machine learning hardware and software with advanced OCT technology to capture high-resolution 3D data that is even below the gum line, through fluids, and beneath the tooth's surface.
                  <br /><br />
                  <a target="_blank" href="https://www.perceptive.io/"
                    >https://www.perceptive.io/</a
                  >
                </p>
              </div>
            </div>
            <div class="swiper-slide">
              <div class="tile-wrapper">
                <div class="tile-title">Saturday Robotics</div>
                <p
                  class="pl-5 pr-5 text-base text-black max-w-3xl mx-auto"
                  style="font-family: poppins, sans-serif"
                >
                  Saturday Robotics is a modern robotics laundry company that builds autonomous washing and drying solutions to simplify daily life while reducing our impact on the planet. Simply leave your laundry on your porch, and Saturday Robotics will pick it up, and autonomously clean, fold, and pack them, for greater efficiency and sustainability.
                  <br /><br />
                  <a target="_blank" href="https://yaysaturday.com/howitworks"
                    >https://yaysaturday.com/howitworks</a
                  >
                </p>
              </div>
            </div>
          </div>

          <!-- Navigation Arrows -->
          <div class="swiper-button-prev"></div>
          <div class="swiper-button-next"></div>

          <!-- Pagination Dots -->
          <div class="swiper-pagination"></div>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <!-- Contact -->
    <section
      id="omniverseconnect"
      class="relative py-20 px-6 bg-gradient-to-b from-white to-blue-50 overflow-hidden"
    >
      <div class="max-w-2xl mx-auto text-center mb-8 z-10 relative">
        <h1
          style="font-family: poppins, sans-serif"
          class="text-3xl md:text-5xl font-bold text-[#000000] leading-tight step_into [font-family:'Open_Sans']"
        >
          Welcome to Boston, Galaverse						
        </h1>
        <p
          style="font-family: poppins, sans-serif"
          class="text-subtitl_size text-black"
        >
          Enter to be seen.
        </p>
      </div>

      <!-- Contact Card -->

      <!---<h1>Contact Form</h1>
  <form id="contact-form">
    <input type="text" name="name" placeholder="Your Name" required />
    <input type="email" name="email" placeholder="Your Email" required />
    <textarea name="message" placeholder="Your Message" required></textarea>
    <button type="submit">Send</button>
  </form>

  <h1>Newsletter Signup</h1>
  <form id="newsletter-form">
    <input type="email" name="email" placeholder="Your Email" required />
    <button type="submit">Subscribe</button>
  </form>--->

      <div
        class="max-w-3xl mx-auto bg-white shadow-2xl contact_section rounded-3xl p-10 md:p-12 relative z-10 backdrop-blur-sm border border-gray-100"
      >
        <form id="contact-form" class="space-y-6 md:space-y-6 space-y-4">
          <div class="relative">
            <label
              for="email"
              class="block text-sm -mt-[1vw] font-medium text-gray-700 mb-1"
              >Email Address</label
            >
            <input
              type="email"
              id="email"
              name="email"
              placeholder="you@example.com"
              required
              class="w-full px-5 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
            />
          </div>

          <div class="relative">
            <label
              for="message"
              class="block text-sm font-medium text-gray-700 mb-1"
              >Message</label
            >
            <textarea
              id="message"
              rows="3"
              name="message"
              placeholder="Type your message here..."
              required
              class="w-full px-5 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition md:rows-5 rows-3"
            ></textarea>
          </div>

          <button
            type="submit"
            class="w-full from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-xl transition duration-300 shadow-md hover:shadow-lg md:!mt-6 !mt-4"
          >
            üöÄ Send Message
          </button>
        </form>
      </div>

      <!-- Decorative Circles -->
      <div
        class="absolute -top-10 -left-10 w-40 h-40 bg-blue-100 rounded-full opacity-40 z-0"
      ></div>
      <div
        class="absolute bottom-0 right-0 w-56 h-56 bg-blue-200 rounded-full opacity-30 z-0"
      ></div>
    </section>

    <!-- Footer -->
    <footer
      class="text-center text-gray-600 text-sm pb-6 bg-white/80 backdrop-blur-md border-t border-gray-200"
    >
      <div class="text-sm footer__links">
        <a href="legal-disclaimer.html" title="Legal" class="footer__link"
          >Legal Disclaimer</a
        >
        <a
          href="website-disclaimer.html"
          title="website-disclaimer"
          class="footer__link"
          >Website Disclaimer</a
        >
        <a
          href="ai-content-technology-disclaimer.html"
          title="AI Content & Technology disclaimer"
          class="footer__link"
          >AI Content & Technology Disclaimer</a
        >
        <a
          href="privacy-policy.html"
          title="Privacy Policy"
          class="footer__link"
          >Privacy Policy</a
        >
        <a
          href="terms-of-service.html"
          title="Terms of Service"
          class="footer__link"
          >Terms of Service</a
        >
        <a
          href="california-consumer-privacy-act.html"
          title="California Consumer Privacy Act (CCPA)"
          class="footer__link"
          >California Consumer Privacy Act (CCPA)</a
        >
        <a
          href="web-accessibility-disclaimer.html"
          title="California Consumer Privacy Act (CCPA)"
          class="footer__link"
          >Web Accessibility Disclaimer</a
        >
      </div>
      <div class="footer_copyright">
        &copy; <span id="currentYear"></span> Boston, Galaverse AI. All rights¬†reserved.
      </div>
    </footer>

    <script>
		  let currentDate = new Date();
			let currentYear = currentDate.getFullYear();
			let currentYearElement = document.getElementById("currentYear");
			
			// Ensure the element exists before trying to set its textContent
			if (currentYearElement) {
				currentYearElement.textContent = currentYear;
			}
		const menuToggle = document.getElementById('menuToggle');
		const nav = document.querySelector('.navbar .header-links');
		
		function closeMenu() {
		  menuToggle?.classList.remove('is-active');
		  document.body.classList.remove('navbar-open');
		}
		
		menuToggle?.addEventListener('click', () => {
		  menuToggle.classList.toggle('is-active');
		  document.body.classList.toggle('navbar-open');
		});
		
		// Delegate clicks from the nav (works for all links inside)
		nav?.addEventListener('click', (e) => {
		  const link = e.target.closest('a.header-links__link');
		  if (!link) return;
		
		  const openInNewTab = link.target === '_blank' || e.ctrlKey || e.metaKey;
		
		  if (openInNewTab) {
			// Force-open the new tab, then close the menu
			window.open(link.href, '_blank', 'noopener');
			e.preventDefault();
		  }
		
		  // Close the menu after the click has been handled
		  requestAnimationFrame(closeMenu);
		});
		
		// Middle-click (auxclick) also opens in a new tab on most browsers
		nav?.addEventListener('auxclick', (e) => {
		  if (e.button !== 1) return; // only middle button
		  const link = e.target.closest('a.drawermenu__link');
		  if (!link) return;
		
		  window.open(link.href, '_blank', 'noopener');
		  e.preventDefault();
		  requestAnimationFrame(closeMenu);
		});

	</script>
<!-- ================= MAP SCRIPT ================= -->
<script>
document.addEventListener("DOMContentLoaded", () => {
	function getMapSettings() {
		const isMobile = L.Browser.mobile || window.innerWidth < 768;
		return {
		    // üá∫üá∏ Proper USA center
		    center: isMobile ? [39.5, -98.35] : [20, 0],		
		    // ‚úÖ Start zoomed so ALL USA pins are visible
		    zoom: isMobile ? 3 : 1.8,		
		    // ‚úÖ Allow real zoom OUT and IN on mobile
		    minZoom: isMobile ? 1.2 : 2,
		    maxZoom: 7,		
		    fitPadding: isMobile ? [40, 40] : [20, 20],		
		    // ‚úÖ Loosen bounds so world is reachable
		    maxBounds: L.latLngBounds(
		      L.latLng(-70, -180),
		      L.latLng(85, 180)
		    ),
		};
	}

  const settings = getMapSettings();
	
  const map = L.map("map", {
    zoomControl: true,
        scrollWheelZoom: false,
        doubleClickZoom: false,
        boxZoom: false,
        touchZoom: true,
        dragging: true,
        keyboard: false,

        center: settings.center,
        zoom: settings.zoom,
        minZoom: settings.minZoom,
        maxZoom: settings.maxZoom,
		
        maxBounds: settings.maxBounds, // ‚úÖ use device-specific bounds
        maxBoundsViscosity: 1.0,
        worldCopyJump: false,
        zoomSnap: 0.25,
		zoomDelta: 0.5,
  });
  const worldBounds = L.latLngBounds(
	  L.latLng(-70, -180),
	  L.latLng(85, 180)
	);

  L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
	  attribution: "&copy; OpenStreetMap contributors",
	  noWrap: true,
	  bounds: worldBounds
	}).addTo(map);

  const markerGroup = L.featureGroup().addTo(map);

  fetch("https://ai-feed-worker.ryanhomlee.workers.dev/api/cities")
  .then(r => {
    if (!r.ok) throw new Error("Cities API failed");
    return r.json();
  })
  .then(cities => {
    cities.forEach(c => {
      const popupHTML = `
        <div style="max-width:240px;">
          <h3 style="margin:0 0 6px;font-weight:700;color:${c.color || "#000"}">
            ${c.name}
          </h3>
          <p style="font-size:13px;line-height:1.4;margin-bottom:8px;">
            ${c.desc}
          </p>
          ${
            c.url
              ? `<a href="${c.url}" target="_blank" style="font-size:13px;font-weight:600;color:${c.color};">
                   ${c.url}
                 </a>`
              : ""
          }
        </div>
      `;

      L.marker([c.lat, c.lng])
        .bindPopup(popupHTML, {
          maxWidth: 260,
          closeButton: true
        })
        .addTo(markerGroup);
    });

    requestAnimationFrame(() => {
      map.fitBounds(markerGroup.getBounds(), { maxZoom: 4 });
    });
  })
  .catch(err => console.error("Map error:", err));
});
</script>


<!-- ================= NEWS + EVENTS ================= -->
<script>
	document.addEventListener("DOMContentLoaded", async () => {

	  /* =========================
		 UTIL
	  ========================= */
	  const timeAgo = d => {
		const mins = Math.floor((Date.now() - new Date(d)) / 60000);
		if (mins < 60) return `${mins} min ago`;
		return `${Math.floor(mins / 60)} hr ago`;
	  };

	  /* =========================
		 NEWS GRID
	  ========================= */
	  const news = await fetch(
		"https://ai-feed-worker.ryanhomlee.workers.dev/api/news"
	  ).then(r => r.json());

	  const grid = document.getElementById("ai-news-grid");

	  const slots = ["slot-a","slot-b","slot-c","slot-b","slot-c"];

	  news
	   .sort((a,b)=>new Date(b.published)-new Date(a.published))
	   .slice(0,5)
		.forEach((n,i)=>{
		  const hasImage = !!n.image;

		  grid.insertAdjacentHTML("beforeend", `
			<a href="${n.link}" target="_blank"
			   class="galaverse-card ${slots[i]} ${hasImage ? "has-image" : ""}">
			  ${hasImage ? `<img src="${n.image}" alt="">` : ""}
			  <div class="galaverse-content">
				<h3>${n.title}</h3>
				${n.excerpt ? `<p class="news-excerpt">${n.excerpt}</p>` : ""}
				<div class="galaverse-meta">${timeAgo(n.published)}</div>
			  </div>
			</a>
		  `);
		});

	  /* =========================
		 EVENTS FETCH
	  ========================= */
	  const events = await fetch(
		"https://ai-feed-worker.ryanhomlee.workers.dev/api/events"
	  ).then(r => r.json());

	  if (!events || events.length < 6) return;

	  const LOOP_EVENTS = events.slice(0, 20);

	  /* =========================
		 FEATURED EVENT
	  ========================= */
	  const featuredWrap = document.getElementById("ai-event-featured");
	  let featuredIndex = 0;

	  function renderFeatured(e) {
		const city = e.city || "Global";
		const img =
		  e.image ||
		  `https://images.unsplash.com/photo-1581091012184-7c4c9a2b4b28?auto=format&fit=crop&w=1400&q=70`;

		featuredWrap.innerHTML = `
		  <div class="ai-event-featured-card">
			<img src="${img}" alt="">
			<div class="ai-event-featured-content">
			  <div class="ai-event-featured-date">${e.date?.when || ""}</div>
			  <div class="ai-event-featured-title">${e.title}</div>
			  ${e.venue ? `<div class="ai-event-featured-venue">üìç ${e.venue}</div>` : ""}
			  <div style="margin-top:12px;display:flex;gap:16px">
				<a href="${e.link}" target="_blank">View event ‚Üí</a>
				${e.calendar ? `<a href="${e.calendar}" target="_blank">Add to calendar üìÖ</a>` : ""}
			  </div>
			</div>
		  </div>
		`;
	  }

	  renderFeatured(LOOP_EVENTS[0]);

	  setInterval(() => {
		featuredIndex = (featuredIndex + 1) % LOOP_EVENTS.length;
		renderFeatured(LOOP_EVENTS[featuredIndex]);
	  }, 6000);

	  /* =========================
		 RIGHT LIST (INFINITE SCROLL)
	  ========================= */
	  const viewport = document.querySelector(".ai-event-list-viewport");
	  const list = document.getElementById("ai-event-list");

	  list.innerHTML = [...LOOP_EVENTS, ...LOOP_EVENTS].map(e => `
		<div class="ai-event-list-item">
		  <strong>${e.title}</strong>
		  <div class="ai-event-list-meta">${e.date?.when || ""}</div>
		  ${e.venue ? `<div class="ai-event-list-meta">üìç ${e.venue}</div>` : ""}
		  <div class="ai-event-links">
			<a href="${e.link}" target="_blank">View</a>
			${e.calendar ? `<a href="${e.calendar}" target="_blank">Calendar</a>` : ""}
		  </div>
		</div>
	  `).join("");

	  /* =========================
		 CONTINUOUS LOOP ENGINE
	  ========================= */
	  let offset = 0;
	  let paused = false;
	  const SPEED = window.innerWidth < 768 ? 0.25 : 0.4;
	  const halfHeight = list.scrollHeight / 2;

	  function loop() {
		if (!paused) {
		  offset += SPEED;
		  if (offset >= halfHeight) offset = 0;
		  list.style.transform = `translateY(-${offset}px)`;
		}
		requestAnimationFrame(loop);
	  }

	  loop();

	  viewport.addEventListener("mouseenter", () => paused = true);
	  viewport.addEventListener("mouseleave", () => paused = false);

	});
</script>
	  <script>
	/*------------------Paris Berlin Stockholm Warsaw Sydney Melbourne London Copenhagen Madrid Africa-------------*/
	// üîπ Second Typing Animation
	const words1 = [
        "Dynamic",
        "Wicked",
        "Academic",
        "Historic",
        "Collaborative",
        "Cold",
        "Affluent",
        "Intellectual",
        "Pioneering",
        "Prestigious",
      ];
	let wordIndex1 = 0;
	let letterIndex1 = 0;
	const speed1 = 80;
	const delayBetweenWords1 = 1500;
	
	function typeWord1() {
	  const word1 = words1[wordIndex1];
	  const span1 = document.getElementById("changing-word-robot");
	
	  if (letterIndex1 <= word1.length) {
	    span1.innerHTML = word1.substring(0, letterIndex1);
	    letterIndex1++;
	    setTimeout(typeWord1, speed1);
	  } else {
	    setTimeout(eraseWord1, delayBetweenWords1);
	  }
	}

function eraseWord1() {
  const word1 = words1[wordIndex1];
  const span1 = document.getElementById("changing-word-robot");

  if (letterIndex1 > 0) {
    // remove one char and continue erasing
    span1.textContent = word1.substring(0, letterIndex1 - 1);
    letterIndex1--;
    setTimeout(eraseWord1, Math.max(20, Math.floor(speed1 / 1.5))); // slightly faster erase but not instant
  } else {
    // Erase finished ‚Äî immediately seed next word's first letter
    wordIndex1 = (wordIndex1 + 1) % words1.length;
    const nextWord = words1[wordIndex1] || "";
    if (nextWord.length > 0) {
      span1.textContent = nextWord.charAt(0); // seed first character so span never goes blank
      letterIndex1 = 1; // start typing from second character next
      // start typing next word immediately (no blank gap)
      setTimeout(typeWord1, speed1);
    } else {
      // fallback: just start typing
      letterIndex1 = 0;
      setTimeout(typeWord1, speed1);
    }
  }
}

// Safer load event ‚Äî show first letter immediately so there's no initial blank
window.addEventListener("load", () => {
  const span1 = document.getElementById("changing-word-robot");
  if (span1 && words1.length > 0) {
    span1.textContent = words1[0].charAt(0);
    letterIndex1 = 1;
  }
  typeWord1();
});
</script>
<script>
(function () {
  const micBtn = document.getElementById("micButton");
  const micHint = document.getElementById("micHint");
  const micHintClose = document.getElementById("micHintClose");
  const chatOverlay = document.getElementById("chatOverlay");
  const closeChatBtn = document.getElementById("closeChat"); // your existing close button
  const chatboxEl = document.getElementById("chatbox");

  if (!micBtn || !micHint) return;

  // helper: hide hint
  function hideHint() {
    micHint.classList.add("mic-hint--hidden");
    micHint.setAttribute("aria-hidden", "true");
  }
  // helper: show hint
  function showHint() {
    micHint.classList.remove("mic-hint--hidden");
    micHint.setAttribute("aria-hidden", "false");
  }

  // üîπ Hide only when mic button is clicked
  micBtn.addEventListener("click", hideHint);

  // üîπ Also allow explicit close with "√ó"
  micHintClose && micHintClose.addEventListener("click", (e) => {
    e.stopPropagation();
    hideHint();
  });

  // üîπ Show hint again when chat popup is closed:
  closeChatBtn && closeChatBtn.addEventListener("click", () => {
    setTimeout(() => showHint(), 100);
  });

  chatOverlay && chatOverlay.addEventListener("click", (e) => {
    if (e.target === chatOverlay) {
      setTimeout(() => showHint(), 100);
    }
  });

  window.addEventListener("keydown", (e) => {
    if (e.key === "Escape") {
      setTimeout(() => {
        const isChatVisible = chatboxEl && window.getComputedStyle(chatboxEl).display !== "none";
        if (!isChatVisible) showHint();
      }, 100);
    }
  });

  // Fallback: detect when chatbox display changes
  if (chatboxEl && window.MutationObserver) {
    const obs = new MutationObserver(() => {
      const isHidden = window.getComputedStyle(chatboxEl).display === "none";
      if (isHidden) showHint();
    });
    obs.observe(chatboxEl, { attributes: true, attributeFilter: ["style", "class"] });
  }
})();

const openBtn = document.getElementById('OpenNewsLetterr');
  const closeBtn = document.getElementById('closePopup');
  const overlay = document.getElementById('popupOverlay');

  // Open popup
  openBtn.addEventListener('click', () => {
    overlay.style.display = 'block';
  });

  // Close popup with close button
  closeBtn.addEventListener('click', () => {
    overlay.style.display = 'none';
  });

  // Close popup by clicking outside
  overlay.addEventListener('click', (event) => {
    if (event.target === overlay) {
      overlay.style.display = 'none';
    }
  });
</script>
<!-- Swiper Init Script -->
<script>
  /* =========================
     Equalize slide heights
     ========================= */
  function equalizeSwiperSlides(swiper) {
    if (!swiper || !swiper.slides) return;

    let maxHeight = 0;

    swiper.slides.forEach(slide => {
      slide.style.height = "";
      maxHeight = Math.max(maxHeight, slide.offsetHeight);
    });

    swiper.slides.forEach(slide => {
      slide.style.height = maxHeight + "px";
    });
  }

  /* =========================
     Persistent highlight logic
     ========================= */
  function attachPersistentSwiperHighlight(sw) {
  if (!sw || !sw.el) return;

  const root = sw.el;
  const canHover =
    window.matchMedia &&
    window.matchMedia("(hover: hover)").matches;

  const getSlides = () =>
    Array.from(root.querySelectorAll(".swiper-slide"));

  const findOriginalFirst = () =>
    getSlides().find(
      s => !s.classList.contains("swiper-slide-duplicate")
    ) || getSlides()[0];

  let lastHovered = null;

  function clearHighlights() {
    getSlides().forEach(s =>
      s.classList.remove("hovered-slide")
    );
  }

  function setHighlight(slideEl) {
    if (!slideEl) return;
    clearHighlights();
    slideEl.classList.add("hovered-slide");
    lastHovered = slideEl;
  }

  function reapplyLastHovered() {
    if (!lastHovered) return;

    const idx =
      lastHovered.getAttribute("data-swiper-slide-index");

    if (idx != null) {
      const match = getSlides().find(
        s =>
          s.getAttribute("data-swiper-slide-index") ===
          String(idx)
      );
      if (match) {
        clearHighlights();
        match.classList.add("hovered-slide");
        lastHovered = match;
        return;
      }
    }

    // Fallback (should rarely happen)
    const orig = findOriginalFirst();
    if (orig) setHighlight(orig);
  }

  function onPointerEnter(e) {
    setHighlight(e.currentTarget);
  }

  function attachHoverListeners() {
    const slides = getSlides();
    slides.forEach(s =>
      s.removeEventListener("pointerenter", onPointerEnter)
    );
    if (canHover) {
      slides.forEach(s =>
        s.addEventListener("pointerenter", onPointerEnter)
      );
    }
  }

  if (canHover) {
    // ‚úÖ CRITICAL: seed first slide ONCE
    const first = findOriginalFirst();
    if (first && !lastHovered) {
      setTimeout(() => setHighlight(first), 40);
    }

    attachHoverListeners();

    sw.on("observerUpdate", () => {
      attachHoverListeners();
      reapplyLastHovered();
    });

    sw.on("slidesLengthChange", () => {
      attachHoverListeners();
      reapplyLastHovered();
    });
  } else {
    // Touch devices: persist active slide
    function highlightActive() {
      const active = sw.slides[sw.activeIndex];
      if (active) setHighlight(active);
    }

    highlightActive();
    sw.on("slideChange", highlightActive);
    sw.on("observerUpdate", highlightActive);
    sw.on("slidesLengthChange", highlightActive);
  }
}


  /* =========================
     Swiper init (FINAL)
     ========================= */
  const swiper = new Swiper(".mySwiperTiles", {
	  slidesPerView: "auto",
	  spaceBetween: 30,
	  loop: true,
	  watchSlidesProgress: true,
	  navigation: {
	    nextEl: ".tiles-next",
	    prevEl: ".tiles-prev"
	  },
	  observer: true,
	  observeParents: true,
	  observeSlideChildren: true,
	  on: {
	    init(sw) {
	      equalizeSwiperSlides(sw);
	      attachPersistentSwiperHighlight(sw);
	    },
	    resize(sw) {
	      equalizeSwiperSlides(sw);
	    },
	    imagesReady(sw) {
	      equalizeSwiperSlides(sw);
	    }
	  }
	});
</script>
    <script src="script.js"></script>
    <script>
      const WORKER_URL = "https://ai-chat.ryanhomlee.workers.dev";

      const chatOverlay = document.getElementById("chatOverlay");
      const micButton = document.getElementById("micButton");
      const chatbox = document.getElementById("chatbox");
      const chatMessages = document.getElementById("chatMessages");
      const chatInput = document.getElementById("chatInput");
      const sendButton = document.getElementById("sendButton");
      const closeChat = document.getElementById("closeChat");

      let chatboxOpen = false;
      let recognition,
        isListening = false,
        preferredFemaleVoice = null;

      /* ---- Chatbox open/close ---- */
      function openChat() {
        chatbox.style.display = "flex";
        chatOverlay.style.display = "block";
        chatInput.focus({ preventScroll: true });
        chatboxOpen = true;
      }
      function closeChatbox() {
        chatbox.style.display = "none";
        chatOverlay.style.display = "none";
        chatboxOpen = false;

        // üîá Stop recognition when closing
        if (recognition && isListening) {
          recognition.stop();
          isListening = false;
        }

        // üîá Stop any ongoing AI voice immediately
        if ("speechSynthesis" in window) {
          window.speechSynthesis.cancel();
        }
      }

      /* ---- Voice synthesis ---- */
      if ("speechSynthesis" in window) {
        const pickVoice = () => {
          const voices = window.speechSynthesis.getVoices() || [];
          preferredFemaleVoice =
            voices.find((v) => /female/i.test(v.name)) ||
            voices.find((v) => /woman/i.test(v.name)) ||
            voices.find((v) => /Google UK English Female/i.test(v.name)) ||
            voices.find((v) => /Samantha/i.test(v.name)) ||
            voices.find((v) => /Zira/i.test(v.name)) ||
            null;
        };
        window.speechSynthesis.onvoiceschanged = () => pickVoice();
        setTimeout(pickVoice, 0);
      }
      function speakText(text) {
        if (!("speechSynthesis" in window)) return;
        window.speechSynthesis.cancel();
        const u = new SpeechSynthesisUtterance(text);
        u.lang = "en-US";
        if (preferredFemaleVoice) u.voice = preferredFemaleVoice;
        window.speechSynthesis.speak(u);
      }

      /* ---- Continuous speech recognition ---- */
      function initRecognition() {
        if (
          !("webkitSpeechRecognition" in window) &&
          !("SpeechRecognition" in window)
        ) {
          alert("Speech Recognition not supported.");
          return;
        }
        if (!recognition) {
          recognition = new (window.SpeechRecognition ||
            window.webkitSpeechRecognition)();
          recognition.lang = "en-US";
          recognition.interimResults = false;
          recognition.continuous = true;

          recognition.onstart = () => {
            isListening = true;
            micButton.classList.add("listening");
            micButton.textContent = "üéôÔ∏è";
          };
          recognition.onend = () => {
            if (!chatboxOpen) {
              isListening = false;
              micButton.classList.remove("listening");
              micButton.textContent = "üé§";
            } else {
              recognition.start();
            }
          };
          recognition.onresult = (e) => {
            const transcript = e.results[e.results.length - 1][0].transcript;
            sendToWorker(transcript);
          };
        }
      }

      /* ---- UI helpers ---- */
      function createMessageBubble(sender) {
        const msg = document.createElement("div");
        msg.classList.add("message", sender === "AI" ? "ai" : "user");
        chatMessages.appendChild(msg);
        chatMessages.scrollTop = chatMessages.scrollHeight;
        return msg;
      }
      function createThinkingBubble() {
        const bubble = createMessageBubble("AI");
        const wrap = document.createElement("div");
        wrap.className = "typing";
        wrap.innerHTML = `<span>Thinking</span><span class="dot"></span><span class="dot"></span><span class="dot"></span>`;
        bubble.appendChild(wrap);
        return bubble;
      }
      function replaceBubbleContent(bubble, htmlOrNode) {
        bubble.innerHTML = "";
        if (typeof htmlOrNode === "string") bubble.textContent = htmlOrNode;
        else bubble.appendChild(htmlOrNode);
      }
      function renderResults(payload, mode) {
        const wrapper = document.createElement("div");
        const ul = document.createElement("ul");
        ul.className = "article-list";

        payload.articles.forEach((a) => {
          const li = document.createElement("li");
          li.className = "article-item";

          const link = document.createElement("a");
          link.href = a.url;
          link.target = "_blank";
          link.rel = "noopener noreferrer";
          link.textContent = a.title;

          li.appendChild(link);

          if (mode === "news") {
            const meta = document.createElement("span");
            meta.className = "article-meta";
            meta.textContent = `${a.source || "Source"} ‚Äî ${a.published || ""}`;
            li.appendChild(meta);
          } else if (mode === "search") {
            if (a.snippet) {
              const snippet = document.createElement("span");
              snippet.className = "article-snippet";
              snippet.textContent = a.snippet;
              li.appendChild(snippet);
            }
          }

          ul.appendChild(li);
        });

        wrapper.appendChild(ul);
        return wrapper;
      }

      /* ---- Send to Worker ---- */
      async function sendToWorker(userText) {
        if (!userText.trim()) return;
        openChat();

        const userBubble = createMessageBubble("User");
        userBubble.textContent = userText;

        const thinking = createThinkingBubble();

        try {
          const tz = Intl.DateTimeFormat().resolvedOptions().timeZone || "UTC";
          const response = await fetch(WORKER_URL, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ prompt: userText, tz }),
          });

          if (!response.ok) {
            const txt = await response.text().catch(() => "");
            replaceBubbleContent(
              thinking,
              `‚ö†Ô∏è Error ${response.status}: ${txt || response.statusText}`
            );
            return;
          }

          const data = await response.json();

          if (data.mode === "weather" || data.mode === "chat") {
            replaceBubbleContent(thinking, data.text);
            if (data.text) speakText(data.text);
          } else if (data.mode === "news" || data.mode === "search") {
            replaceBubbleContent(thinking, renderResults(data, data.mode));
          } else {
            replaceBubbleContent(thinking, "No results found.");
          }
        } catch (err) {
          replaceBubbleContent(
            thinking,
            "‚ö†Ô∏è Something went wrong: " + err.message
          );
        }
      }

      /* ---- Events ---- */
      closeChat.addEventListener("click", closeChatbox);
      chatOverlay.addEventListener("click", closeChatbox);
      window.addEventListener("keydown", (e) => {
        if (e.key === "Escape") closeChatbox();
      });

      micButton.addEventListener("click", () => {
        initRecognition();
        if (!recognition) return;
        if (!isListening) recognition.start();
        else recognition.stop();
      });
      sendButton.addEventListener("click", () => {
        const text = chatInput.value;
        chatInput.value = "";
        sendToWorker(text);
      });
      chatInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          e.preventDefault();
          sendButton.click();
        }
      });
    </script>
  </body>
</html>
